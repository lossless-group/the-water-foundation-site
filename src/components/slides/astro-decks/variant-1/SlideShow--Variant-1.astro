---
/**
 * SlideShow--Variant-1 Component
 * Complete Water Theme presentation slideshow
 * Features: Full RevealJS integration with all variant-1 slide components
 */

import TitleSlide from './slides/TitleSlide.astro';
import WelcomeMessage from './slides/WelcomeMessage.astro';
import FramingTheChallenge from './slides/FramingTheChallenge.astro';
import TheBlindSpot from './slides/TheBlindSpot.astro';
import TheTripleChallenge from './slides/TheTripleChallenge.astro';
import OurMission from './slides/OurMission.astro';
import TheProblem from './slides/TheProblem.astro';
import KeyFigures from './slides/KeyFigures.astro';
import OurSystemsThinkingSolution from './slides/OurSystemsThinkingSolution.astro';
import GeopoliticalTrends from './slides/GeopoliticalTrends.astro';
import OurTeam from './slides/OurTeam.astro';
import InstitutionalGrade from './slides/InstitutionalGrade.astro';
import ThankYou from './slides/ThankYou.astro';

interface Props {
  title?: string;
  subtitle?: string;
  author?: string;
  theme?: string;
  transition?: string;
  autoSlide?: number;
}

const {
  title = "The Water Fund",
  subtitle = "Systemic Solutions for Global Water Security",
  author = "The Water Fund Team",
  theme = "water",
  transition = "slide",
  autoSlide = 0
} = Astro.props;
---

<!-- Slide 1: Title Slide -->
    <section data-transition="fade">
      <TitleSlide 
        title={title}
        subtitle={subtitle}
        description="A think tank creating a blended capital platform addressing systemic underinvestment in the world's most essential and overlooked resource â€” water"
        date="Date: September 13, 2025"
        website="https://the-water-foundation.org"
        year="2025"
      />
    </section>

    <!-- Slide 2: Welcome Message -->
    <section data-transition="slide">
      <WelcomeMessage 
        welcomeTitle="Welcome"
        chairmanName="Christoph Schwager"
        chairmanTitle="Chairman, The Water Foundation"
        mainMessage="Thank you for joining us today as we explore innovative approaches to global water security challenges."
        chairmanPhoto="/headshots/headshotOf__Christoph-Schwager.jpg"
      />
    </section>

    <!-- Slide 3: Framing the Challenge -->
    <section data-transition="slide">
      <FramingTheChallenge 
        challengeTitle="Framing the"
        challengeSubtitle="Challenge"
        introText="Water technology innovation requires unprecedented coordination across sectors, geographies, and stakeholder groups."
        statistics={[
          {
            title: "Drinking Water Crisis",
            value: "2.2B",
            description: "People lack safely managed drinking water"
          },
          {
            title: "Sanitation Access",
            value: "4.2B",
            description: "People lack safely managed sanitation"
          },
          {
            title: "Investment Gap",
            value: "$114B",
            description: "Annual shortfall in water infrastructure"
          },
          {
            title: "Wastewater Treatment",
            value: "80%",
            description: "Of wastewater flows back to ecosystem untreated"
          }
        ]}
      />
    </section>

    <!-- Slide 4: The Blind Spot -->
    <section data-transition="slide">
      <TheBlindSpot 
        mainTitle="The Blind Spot of"
        titleHighlight="Humankind"
        section1Title="Hidden in Plain Sight"
        section1Points={[
          "Water is a critical system hiding in plain sight.",
          "Despite its foundational role, water is undervalued, undercapitalized, and unprotected."
        ]}
        section2Title="The Investment Gap"
        section2Points={[
          "Traditional funding models fail to address systemic water challenges",
          "Fragmented approaches miss critical interconnections"
        ]}
      />
    </section>
    
    <!-- Slide 6: The Triple Challenge -->
    <section data-transition="slide">
      <TheTripleChallenge />
    </section>

    <section data-transition="slide">
      <OurTeam />
    </section>

    <!-- Slide 5: Our Mission -->
    <section data-transition="slide">
      <OurMission 
        mainTitle="Our"
        titleHighlight="Mission"
        subtitle="Our mission is built on three key pillars"
        missionPoints={[
          "We exist to solve humanity's most overlooked crisis at a global turning point.",
          "Our mission is to mobilize blended capital, science, and local leadership to restore global water resilience.",
          "We aim to close the water capital gap by building vehicles, alliances, and trust systems for lasting change."
        ]}
        panel1Text="Catalyze Innovation"
        panel2Text="Build Resilience"
      />
    </section>

    <!-- Slide 6: Institutional Grade -->
    <section data-transition="slide">
      <InstitutionalGrade 
        title="Institutional-Grade"
        subtitle="Designed for institutional investors who demand excellence"
        complianceTitle="Compliance"
        complianceDesc="Full alignment with financial, ESG, and cross-border regulatory standards"
        ethicsTitle="Ethics"
        ethicsDesc="Mission-locked governance and impact-first principles at every level"
        legalTitle="Legal"
        legalDesc="Structured for compliance, protection, and transparency across jurisdictions"
      />
    </section>

    <!-- Slide 6: The Problem -->
    <section data-transition="slide">
      <TheProblem 
        mainTitle="The"
        titleHighlight="Problem"
        subtitle="Water is underfunded and fragmented"
        description="Multiple interconnected challenges prevent effective water security solutions"
        problemCards={[
          {
            title: "Scale Mismatch",
            description: "Local solutions struggle to address global challenges",
            icon: "scale",
            variant: "blue"
          },
          {
            title: "Capital Gaps",
            description: "Insufficient funding for critical water infrastructure",
            icon: "capital",
            variant: "light"
          },
          {
            title: "Technology Barriers",
            description: "Innovation adoption hindered by market failures",
            icon: "technology",
            variant: "dark"
          },
          {
            title: "Governance Fragmentation",
            description: "Disconnected policies undermine coordinated action",
            icon: "governance",
            variant: "blue"
          }
        ]}
      />
    </section>

    <!-- Slide 7: Key Figures -->
    <section data-transition="slide">
      <KeyFigures 
        mainTitle="Key"
        titleHighlight="Figures"
        contextText="Water stress is escalating globally, with critical implications for human security and economic stability."
        keyFigures={[
          {
            figure: "4bn",
            title: "People in Water Stress",
            description: "Experience severe water scarcity at least one month per year",
            variant: "blue"
          },
          {
            figure: "40%",
            title: "Supply Deficit",
            description: "Gap between water demand and sustainable supply by 2030",
            variant: "light"
          },
          {
            figure: "90%",
            title: "Water-Related Disasters",
            description: "Of all natural disasters are water-related",
            variant: "dark"
          }
        ]}
      />
    </section>

    <!-- Slide 8: Geopolitical Trends -->
    <section data-transition="slide">
      <GeopoliticalTrends 
        mainTitle="Geopolitical"
        titleHighlight="Trend"
        trendIndicators={[
          {
            title: "Conflict Zones",
            description: "Water stress is intensifying tensions across fragile regions and borders.",
            icon: "conflict",
            variant: "dark"
          },
          {
            title: "Regional Flashpoints",
            description: "Disputes over water are growing in South Asia, Africa, and the Middle East.",
            icon: "flashpoint",
            variant: "blue"
          },
          {
            title: "Resource Competition",
            description: "Nations are contesting dwindling supplies, risking broader geopolitical instability.",
            icon: "resources",
            variant: "light"
          },
          {
            title: "Threat to Peace",
            description: "Water scarcity now endangers not just communities, but peace between nations.",
            icon: "peace",
            variant: "accent"
          }
        ]}
      />
    </section>

    <!-- Slide 9: Our Systemic Solution -->
    <section data-transition="slide">
      <OurSystemsThinkingSolution 
        mainTitle="Our Systemic"
        titleHighlight="Solution"
        introText="Not a fund..."
        introDescription="We're building a systemic correction mechanism, not just a fund...."
        solutionElements={[
          {
            title: "Mechanism",
            variant: "blue",
            position: { x: 50, y: 15 },
            connections: ["Structure"]
          },
          {
            title: "Structure",
            description: "A multi-layered structure realigning capital with the water system",
            variant: "light",
            position: { x: 50, y: 35 },
            connections: ["Innovation", "Approach", "Policy Alignment"]
          },
          {
            title: "Innovation",
            description: "Deploy solutions with proven impact readiness",
            variant: "light",
            position: { x: 15, y: 55 },
            connections: []
          },
          {
            title: "Approach",
            variant: "dark",
            position: { x: 50, y: 55 },
            connections: ["Finance Stack"]
          },
          {
            title: "Policy Alignment",
            description: "Ensure governance supports long-term capital flow.",
            variant: "light",
            position: { x: 85, y: 55 },
            connections: []
          },
          {
            title: "Finance Stack",
            description: "Activate capital layers from grants to private equity",
            variant: "light",
            position: { x: 50, y: 75 },
            connections: []
          }
        ]}
      />
    </section>

    <!-- Final slide: Thank You / Contact -->
    <section data-transition="fade">
      <ThankYou />
    </section>

<style>  /* RevealJS Integration Styles */
  .reveal .slides section {
    padding: 0;
    margin: 0;
  }

  .reveal .slides section > * {
    margin: 0;
  }

  /* Ensure slides fill viewport */
  .reveal .slides section[data-background-color] {
    background-color: inherit !important;
  }

  /* Custom slide transitions */
  .reveal .slides section.past {
    opacity: 0;
    transform: translateX(-100%);
  }

  .reveal .slides section.future {
    opacity: 0;
    transform: translateX(100%);
  }

  .reveal .slides section.present {
    opacity: 1;
    transform: translateX(0);
  }
</style>