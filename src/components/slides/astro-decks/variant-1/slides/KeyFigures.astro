---
/**
 * KeyFigures Component - Variant 1
 * Statistics slide with key water crisis figures
 * Features: Title with context text and three statistical cards
 */

interface Props {
  mainTitle?: string;
  titleHighlight?: string;
  contextText?: string;
  keyFigures?: Array<{
    figure: string;
    title: string;
    description: string;
    variant: 'blue' | 'light' | 'dark';
  }>;
}

const {
  mainTitle = "Key",
  titleHighlight = "Figures",
  contextText = "Water stress is escalating globally, with rising demand, fragile supply, and compounding risks.",
  keyFigures = [
    {
      figure: "4bn",
      title: "People in Water Stress",
      description: "4 billion people already experience water stress for at least one month per year.",
      variant: "blue"
    },
    {
      figure: "40%",
      title: "Supply Deficit",
      description: "By 2030, global water demand will exceed supply by 40%.",
      variant: "light"
    },
    {
      figure: "90%",
      title: "Water-Related Disasters",
      description: "90% of all natural disasters are water-related.",
      variant: "dark"
    }
  ]
} = Astro.props;
---

<section class="key-figures-slide" data-background-color="rgb(var(--color-primary-50))">
  <div class="slide-container">
    <!-- Header section -->
    <div class="header-section">
      <div class="title-section">
        <h1 class="main-title">
          <span class="title-key">{mainTitle}</span>
          <span class="title-figures">{titleHighlight}</span>
        </h1>
      </div>
      
      <div class="context-section">
        <p class="context-text">{contextText}</p>
      </div>
    </div>

    <!-- Figures cards section -->
    <div class="figures-section">
      <div class="figures-grid">
        {keyFigures.map((figure, index) => (
          <div class={`figure-card card-${figure.variant}`}>
            <div class="figure-display">
              <span class="figure-number">{figure.figure}</span>
            </div>
            
            <div class="figure-content">
              <h3 class="figure-title">{figure.title}</h3>
              
              <div class="figure-details">
                <div class="check-icon">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="20,6 9,17 4,12"/>
                  </svg>
                </div>
                <p class="figure-description">{figure.description}</p>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>

<style>
  .key-figures-slide {
    width: 100%;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgb(var(--color-primary-50));
    font-family: var(--font-family-primary);
    padding: 3rem 2rem;
  }

  .slide-container {
    width: 100%;
    height: 100%;
    max-width: 1400px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 3rem;
    justify-content: center;
  }

  /* Header Section Styling */
  .header-section {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 4rem;
    padding: 0 4rem;
  }

  .title-section {
    flex-shrink: 0;
    text-align: left;
    padding-left: 2rem;
  }

  .main-title {
    margin: 0;
    line-height: 1.1;
  }

  .title-key {
    display: inline;
    font-size: 4rem;
    font-weight: var(--font-weight-normal);
    color: rgb(var(--color-accent-500));
    margin-right: 0.5rem;
  }

  .title-figures {
    display: inline;
    font-size: 4rem;
    font-weight: var(--font-weight-bold);
    color: rgb(var(--color-primary-900));
  }

  .context-section {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    padding-right: 2rem;
  }

  .context-text {
    font-size: 1rem;
    line-height: 1.6;
    color: rgb(var(--color-primary-700));
    margin: 0;
    font-style: italic;
    max-width: 400px;
    text-align: right;
  }

  /* Figures Section Styling */
  .figures-section {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .figures-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2rem;
    width: 100%;
    max-width: 1000px;
  }

  .figure-card {
    border-radius: 16px;
    padding: 2rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: 1.5rem;
    box-shadow: 0 4px 16px rgba(var(--color-primary-900), 0.1);
    transition: var(--transition-smooth);
    min-height: 280px;
  }

  .figure-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(var(--color-primary-900), 0.15);
  }

  .card-blue {
    background: rgb(var(--color-accent-500));
    color: white;
  }

  .card-light {
    background: rgb(var(--color-primary-50));
    color: rgb(var(--color-primary-900));
    border: 2px solid rgb(var(--color-primary-200));
  }

  .card-dark {
    background: rgb(var(--color-primary-400));
    color: white;
  }

  .figure-display {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1rem;
  }

  .figure-number {
    font-size: 4rem;
    font-weight: var(--font-weight-bold);
    line-height: 1;
  }

  .card-blue .figure-number {
    color: white;
  }

  .card-light .figure-number {
    color: rgb(var(--color-primary-900));
  }

  .card-dark .figure-number {
    color: white;
  }

  .figure-content {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    width: 100%;
  }

  .figure-title {
    font-size: 1.25rem;
    font-weight: var(--font-weight-bold);
    margin: 0;
    line-height: 1.3;
  }

  .card-blue .figure-title {
    color: white;
  }

  .card-light .figure-title {
    color: rgb(var(--color-primary-900));
  }

  .card-dark .figure-title {
    color: white;
  }

  .figure-details {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    text-align: left;
  }

  .check-icon {
    flex-shrink: 0;
    margin-top: 0.25rem;
    opacity: 0.8;
  }

  .card-blue .check-icon {
    color: rgba(255, 255, 255, 0.8);
  }

  .card-light .check-icon {
    color: rgb(var(--color-accent-500));
  }

  .card-dark .check-icon {
    color: rgba(255, 255, 255, 0.8);
  }

  .figure-description {
    font-size: 0.95rem;
    line-height: 1.5;
    margin: 0;
    opacity: 0.9;
  }

  .card-blue .figure-description {
    color: rgba(255, 255, 255, 0.9);
  }

  .card-light .figure-description {
    color: rgb(var(--color-primary-700));
  }

  .card-dark .figure-description {
    color: rgba(255, 255, 255, 0.9);
  }

  /* Responsive Design */
  @media (max-width: 1200px) {
    .header-section {
      flex-direction: column;
      gap: 2rem;
      text-align: center;
    }
    
    .context-section {
      justify-content: center;
    }
    
    .context-text {
      text-align: center;
      max-width: 500px;
    }
    
    .figures-grid {
      gap: 1.5rem;
    }
  }

  @media (max-width: 900px) {
    .figures-grid {
      grid-template-columns: 1fr;
      max-width: 400px;
    }
    
    .figure-card {
      min-height: 200px;
      padding: 1.5rem;
    }
    
    .figure-number {
      font-size: 3rem;
    }
  }

  @media (max-width: 768px) {
    .title-key, .title-figures {
      font-size: 2.5rem;
    }
    
    .context-text {
      font-size: 0.95rem;
    }
    
    .figure-card {
      padding: 1.25rem;
      gap: 1rem;
    }
    
    .figure-number {
      font-size: 2.5rem;
    }
    
    .figure-title {
      font-size: 1.125rem;
    }
    
    .slide-container {
      gap: 2rem;
    }
  }
</style>
