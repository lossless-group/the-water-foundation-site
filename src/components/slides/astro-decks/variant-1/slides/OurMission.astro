---
/**
 * OurMission Component - Variant 1
 * Mission statement slide with multi-panel layout
 * Features: Split layout with mission text and water imagery panels
 */

interface Props {
  mainTitle?: string;
  titleHighlight?: string;
  subtitle?: string;
  missionPoints?: Array<string>;
  panel1Text?: string;
  panel2Text?: string;
  website?: string;
}

const {
  mainTitle = "Our",
  titleHighlight = "Mission",
  subtitle = "Our mission is built on three key pillars",
  missionPoints = [
    "We exist to solve humanity's most overlooked crisis at a global turning point.",
    "Our mission is to mobilize blended capital, science, and local leadership to restore global water resilience.",
    "We aim to close the water capital gap by building vehicles, alliances, and trust systems for lasting change."
  ],
  panel1Text = "We exist at a critical turning point in humanity's relationship with water.",
  panel2Text = "Water is not just a resource - it's the foundation of life, economies, and our shared future.",
  website = "www.waterfund.com"
} = Astro.props;
---

<section class="our-mission-slide" data-background-color="rgb(var(--color-primary-50))">
  <div class="slide-container">
    <!-- Left content panel -->
    <div class="content-panel">
      <div class="title-section">
        <h1 class="main-title">
          <span class="title-our">{mainTitle}</span>
          <span class="title-mission">{titleHighlight}</span>
        </h1>
      </div>

      <div class="subtitle-section">
        <h2 class="subtitle">{subtitle}</h2>
      </div>

      <div class="mission-content">
        {missionPoints.map(point => (
          <p class="mission-point">{point}</p>
        ))}
      </div>

      <div class="website-footer">
        <p>{website}</p>
      </div>
    </div>

    <!-- Right image panels -->
    <div class="image-panels">
      <!-- Top panel - Lighthouse/beacon -->
      <div class="image-panel panel-top">
        <div class="lighthouse-scene">
          <div class="lighthouse-bg">
            <!-- Lighthouse structure -->
            <div class="lighthouse">
              <div class="lighthouse-base"></div>
              <div class="lighthouse-tower"></div>
              <div class="lighthouse-light">
                <div class="light-beam beam-1"></div>
                <div class="light-beam beam-2"></div>
                <div class="light-beam beam-3"></div>
              </div>
            </div>
            <!-- Mountain silhouette -->
            <div class="mountain"></div>
          </div>
          <div class="panel-text">
            <p>{panel1Text}</p>
          </div>
        </div>
      </div>

      <!-- Bottom panel - Hands with water -->
      <div class="image-panel panel-bottom">
        <div class="hands-scene">
          <div class="hands-bg">
            <!-- Cupped hands illustration -->
            <div class="hands-container">
              <div class="hand hand-left">
                <div class="palm palm-left"></div>
                <div class="thumb thumb-left"></div>
                <div class="fingers fingers-left">
                  <div class="finger finger-1"></div>
                  <div class="finger finger-2"></div>
                  <div class="finger finger-3"></div>
                  <div class="finger finger-4"></div>
                </div>
              </div>
              <div class="hand hand-right">
                <div class="palm palm-right"></div>
                <div class="thumb thumb-right"></div>
                <div class="fingers fingers-right">
                  <div class="finger finger-1"></div>
                  <div class="finger finger-2"></div>
                  <div class="finger finger-3"></div>
                  <div class="finger finger-4"></div>
                </div>
              </div>
              <!-- Water droplets -->
              <div class="water-droplets">
                <div class="droplet drop-1"></div>
                <div class="droplet drop-2"></div>
                <div class="droplet drop-3"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="panel-text panel-text-blue">
          <p>{panel2Text}</p>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .our-mission-slide {
    width: 100%;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgb(var(--color-primary-50));
    font-family: var(--font-family-primary);
    padding: 2rem;
  }

  .slide-container {
    width: 100%;
    height: 100%;
    max-width: 1600px;
    display: grid;
    grid-template-columns: 1fr 400px;
    gap: 3rem;
    align-items: center;
  }

  /* Content Panel Styling */
  .content-panel {
    display: flex;
    flex-direction: column;
    gap: 2rem;
    padding: 2rem 0;
    justify-content: center;
    align-items: center;
    text-align: center;
  }

  .title-section {
    margin-bottom: 1rem;
  }

  .main-title {
    margin: 0;
    line-height: 1.1;
  }

  .title-our {
    display: inline;
    font-size: 4rem;
    font-weight: var(--font-weight-normal);
    color: rgb(var(--color-accent-500));
    margin-right: 0.5rem;
  }

  .title-mission {
    display: inline;
    font-size: 4rem;
    font-weight: var(--font-weight-bold);
    color: rgb(var(--color-primary-900));
  }

  .subtitle-section {
    margin-bottom: 1.5rem;
  }

  .subtitle {
    font-size: 1.5rem;
    font-weight: var(--font-weight-bold);
    color: rgb(var(--color-primary-900));
    margin: 0;
    line-height: 1.3;
  }

  .mission-content {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    max-width: 500px;
  }

  .mission-point {
    font-size: 1rem;
    line-height: 1.6;
    color: rgb(var(--color-primary-800));
    margin: 0;
    font-style: italic;
  }

  .website-footer {
    margin-top: auto;
    padding-top: 2rem;
  }

  .website-footer p {
    font-size: 1rem;
    color: rgb(var(--color-primary-600));
    margin: 0;
  }

  /* Image Panels Styling */
  .image-panels {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    height: 100%;
  }

  .image-panel {
    flex: 1;
    border-radius: 12px;
    overflow: hidden;
    position: relative;
    box-shadow: 0 4px 12px rgba(var(--color-primary-900), 0.1);
  }

  .panel-top {
    background: rgb(var(--color-primary-800));
  }

  .panel-bottom {
    background: rgb(var(--color-accent-500));
  }

  /* Lighthouse Scene */
  .lighthouse-scene {
    width: 100%;
    height: 100%;
    position: relative;
    display: flex;
    flex-direction: column;
  }

  .lighthouse-bg {
    flex: 1;
    position: relative;
    background: linear-gradient(to bottom, rgb(var(--color-primary-700)) 0%, rgb(var(--color-primary-800)) 100%);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .lighthouse {
    position: relative;
    z-index: 2;
  }

  .lighthouse-base {
    width: 20px;
    height: 60px;
    background: rgb(var(--color-primary-200));
    border-radius: 0 0 4px 4px;
    position: relative;
  }

  .lighthouse-tower {
    width: 16px;
    height: 40px;
    background: rgb(var(--color-primary-100));
    border-radius: 2px 2px 0 0;
    position: absolute;
    top: -40px;
    left: 2px;
  }

  .lighthouse-light {
    position: absolute;
    top: -45px;
    left: 4px;
    width: 12px;
    height: 8px;
    background: rgb(var(--color-accent-200));
    border-radius: 2px;
  }

  .light-beam {
    position: absolute;
    background: rgba(255, 255, 255, 0.3);
    transform-origin: center bottom;
    animation: rotate-beam 4s linear infinite;
  }

  .beam-1 {
    width: 2px;
    height: 40px;
    top: -40px;
    left: 5px;
  }

  .beam-2 {
    width: 2px;
    height: 35px;
    top: -35px;
    left: 3px;
    animation-delay: 1.3s;
  }

  .beam-3 {
    width: 2px;
    height: 45px;
    top: -45px;
    left: 7px;
    animation-delay: 2.6s;
  }

  @keyframes rotate-beam {
    0% { transform: rotate(-30deg); opacity: 0.3; }
    50% { transform: rotate(30deg); opacity: 0.8; }
    100% { transform: rotate(-30deg); opacity: 0.3; }
  }

  .mountain {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 40%;
    background: rgb(var(--color-primary-900));
    clip-path: polygon(0% 100%, 30% 60%, 50% 70%, 70% 50%, 100% 80%, 100% 100%);
  }

  /* Hands Scene */
  .hands-scene {
    width: 100%;
    height: 100%;
    position: relative;
    display: flex;
    flex-direction: column;
  }

  .hands-bg {
    flex: 1;
    position: relative;
    background: linear-gradient(135deg, rgb(var(--color-accent-600)) 0%, rgb(var(--color-accent-400)) 100%);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .hands-container {
    position: relative;
    width: 120px;
    height: 80px;
  }

  .hand {
    position: absolute;
    bottom: 0;
  }

  .palm {
    width: 40px;
    height: 50px;
    background: rgba(139, 69, 19, 0.8);
    border-radius: 20px 20px 10px 10px;
  }

  .hand-left .palm {
    left: 0;
  }

  .hand-right .palm {
    right: 0;
  }

  .water-droplets {
    position: absolute;
    top: 20%;
    left: 50%;
    transform: translateX(-50%);
  }

  .droplet {
    position: absolute;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 50% 50% 50% 0;
    animation: drip 2s ease-in-out infinite;
  }

  .drop-1 {
    width: 8px;
    height: 10px;
    top: 0;
    left: -10px;
    transform: rotate(-45deg);
  }

  .drop-2 {
    width: 6px;
    height: 8px;
    top: 5px;
    left: 0;
    transform: rotate(-45deg);
    animation-delay: 0.7s;
  }

  .drop-3 {
    width: 10px;
    height: 12px;
    top: -2px;
    left: 8px;
    transform: rotate(-45deg);
    animation-delay: 1.4s;
  }

  @keyframes drip {
    0%, 100% { opacity: 0.6; transform: rotate(-45deg) translateY(0px); }
    50% { opacity: 1; transform: rotate(-45deg) translateY(3px); }
  }

  /* Panel Text */
  .panel-text {
    padding: 1rem;
    background: rgba(0, 0, 0, 0.7);
    color: white;
  }

  .panel-text-blue {
    background: rgba(0, 0, 0, 0.6);
  }

  .panel-text p {
    font-size: 0.9rem;
    line-height: 1.4;
    margin: 0;
    font-weight: var(--font-weight-medium);
  }

  /* Responsive Design */
  @media (max-width: 1200px) {
    .slide-container {
      grid-template-columns: 1fr;
      grid-template-rows: 1fr auto;
      gap: 2rem;
    }
    
    .image-panels {
      height: 300px;
      flex-direction: row;
    }
  }

  @media (max-width: 768px) {
    .title-our, .title-mission {
      font-size: 2.5rem;
    }
    
    .subtitle {
      font-size: 1.25rem;
    }
    
    .mission-point {
      font-size: 0.95rem;
    }
    
    .image-panels {
      height: 250px;
    }
    
    .slide-container {
      gap: 1rem;
    }
  }
</style>
