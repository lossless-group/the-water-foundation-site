---
/**
 * WhyNow Slide Component
 * Adapted from WhyNow--Jumbo.astro for presentation format
 * Focuses on the crisis and opportunity convergence with key statistics
 */
---

<section 
  class="slide-container" 
  data-background-color="rgb(4, 31, 42)"
  data-transition="slide"
>
  <div class="slide-content">
    <!-- Animated Background Elements -->
    <div class="absolute inset-0 z-0">
      <!-- Gradient Orbs -->
      <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-br from-blue-600/10 to-transparent rounded-full blur-3xl animate-pulse-slow"></div>
      <div class="absolute bottom-1/4 right-1/4 w-80 h-80 bg-gradient-to-br from-teal-600/10 to-transparent rounded-full blur-3xl animate-pulse-delay"></div>
      <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-br from-cyan-600/5 to-transparent rounded-full blur-3xl animate-pulse-slow"></div>
      
      <!-- Floating Water Particles -->
      <div class="absolute top-1/4 left-1/3 w-3 h-3 bg-blue-400/40 rounded-full animate-float opacity-60"></div>
      <div class="absolute top-1/3 right-1/4 w-2 h-2 bg-teal-400/40 rounded-full animate-float-delay opacity-40"></div>
      <div class="absolute bottom-1/3 left-1/2 w-4 h-4 bg-cyan-400/40 rounded-full animate-float-slow opacity-50"></div>
    </div>

    <div class="relative z-10 text-center">
      <!-- Main Heading -->
      <div class="mb-8">
        <h1 class="text-6xl md:text-7xl lg:text-8xl font-black text-cyan-300 mb-2 animate-slide-up">
          WHY
        </h1>
        <h1 class="text-6xl md:text-7xl lg:text-8xl font-black bg-gradient-to-r from-blue-400 via-teal-400 to-cyan-400 bg-clip-text text-transparent animate-slide-up-delay">
          NOW?
        </h1>
      </div>

      <!-- Animated Divider -->
      <div class="relative mb-8">
        <div class="w-24 h-1 bg-gradient-to-r from-blue-400 via-blue-500 to-blue-700 mx-auto animate-expand rounded-full shadow-lg shadow-blue-500/50"></div>
        <div class="absolute inset-0 w-24 h-1 bg-gradient-to-r from-blue-400/50 via-blue-500/50 to-blue-700/50 mx-auto animate-pulse rounded-full blur-sm"></div>
      </div>
      
      <!-- Subtitle -->
      <p class="text-xl md:text-2xl text-blue-100 max-w-4xl mx-auto leading-relaxed animate-fade-in-up font-medium mb-12">
        The convergence of <span class="text-blue-300 font-semibold">crisis</span> and <span class="text-teal-300 font-semibold">opportunity</span> in the world's most critical resource
      </p>

      <!-- Key Statistics - Condensed for slide format -->
      <div class="grid md:grid-cols-3 gap-6 max-w-5xl mx-auto">
        <!-- Annual Deaths -->
        <div class="bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl p-6 hover:bg-white/15 transition-all duration-300">
          <div class="text-4xl md:text-5xl font-bold text-blue-300 mb-2">1.4M</div>
          <h3 class="text-lg font-semibold text-blue-200 mb-2">Annual Deaths</h3>
          <p class="text-blue-100 text-sm">from unsafe water & sanitation</p>
        </div>
        
        <!-- Children at Risk -->
        <div class="bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl p-6 hover:bg-white/15 transition-all duration-300">
          <div class="text-4xl md:text-5xl font-bold text-teal-300 mb-2">300K</div>
          <h3 class="text-lg font-semibold text-cyan-200 mb-2">Children Under 5</h3>
          <p class="text-cyan-100 text-sm">die annually from water-related diseases</p>
        </div>
        
        <!-- Decade Impact -->
        <div class="bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl p-6 hover:bg-white/15 transition-all duration-300">
          <div class="text-4xl md:text-5xl font-bold text-cyan-300 mb-2">14M</div>
          <h3 class="text-lg font-semibold text-cyan-200 mb-2">Lives Over 10 Years</h3>
          <p class="text-cyan-100 text-sm">could be saved with safe water access</p>
        </div>
      </div>

      <!-- Call to Action -->
      <div class="mt-12 bg-gradient-to-r from-cyan-500/10 via-blue-500/10 to-teal-500/10 backdrop-blur-sm border border-cyan-400/30 rounded-2xl p-6 max-w-4xl mx-auto">
        <p class="text-lg text-cyan-200 font-medium">
          Every moment we delay, lives are lost. <span class="text-cyan-300 font-semibold">The time to act is now.</span>
        </p>
      </div>
    </div>
  </div>
</section>

<style>
  .slide-content {
    width: 100%;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem;
    position: relative;
  }

  /* Animation Keyframes */
  @keyframes slide-up {
    from {
      opacity: 0;
      transform: translateY(100px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(50px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes expand {
    from {
      width: 0;
      opacity: 0;
    }
    to {
      width: 6rem;
      opacity: 1;
    }
  }
  
  @keyframes float {
    0%, 100% {
      transform: translateY(0px) rotate(0deg);
    }
    33% {
      transform: translateY(-20px) rotate(120deg);
    }
    66% {
      transform: translateY(-10px) rotate(240deg);
    }
  }
  
  @keyframes float-delay {
    0%, 100% {
      transform: translateY(0px) rotate(0deg);
    }
    33% {
      transform: translateY(-15px) rotate(120deg);
    }
    66% {
      transform: translateY(-25px) rotate(240deg);
    }
  }
  
  @keyframes float-slow {
    0%, 100% {
      transform: translateY(0px) rotate(0deg);
    }
    50% {
      transform: translateY(-30px) rotate(180deg);
    }
  }
  
  @keyframes pulse-slow {
    0%, 100% {
      opacity: 0.1;
      transform: scale(1);
    }
    50% {
      opacity: 0.2;
      transform: scale(1.1);
    }
  }
  
  @keyframes pulse-delay {
    0%, 100% {
      opacity: 0.1;
      transform: scale(1);
    }
    50% {
      opacity: 0.15;
      transform: scale(1.05);
    }
  }
  
  /* Animation Classes */
  .animate-slide-up {
    animation: slide-up 1.2s ease-out forwards;
  }
  
  .animate-slide-up-delay {
    animation: slide-up 1.2s ease-out 0.4s forwards;
    opacity: 0;
  }
  
  .animate-fade-in-up {
    animation: fade-in-up 1.2s ease-out 0.8s forwards;
    opacity: 0;
  }
  
  .animate-expand {
    animation: expand 1.5s ease-out 1.2s forwards;
    width: 0;
    opacity: 0;
  }
  
  .animate-float {
    animation: float 8s ease-in-out infinite;
  }
  
  .animate-float-delay {
    animation: float-delay 10s ease-in-out infinite;
  }
  
  .animate-float-slow {
    animation: float-slow 15s ease-in-out infinite;
  }
  
  .animate-pulse-slow {
    animation: pulse-slow 12s ease-in-out infinite;
  }
  
  .animate-pulse-delay {
    animation: pulse-delay 16s ease-in-out infinite;
  }

  /* Responsive adjustments for slide format */
  @media (max-width: 768px) {
    .slide-content {
      padding: 1rem;
    }
    
    h1 {
      font-size: 3rem !important;
    }
    
    .grid {
      grid-template-columns: 1fr;
      gap: 1rem;
    }
  }
</style>

<script>
  // Initialize animations when slide becomes active
  function initializeWhyNowSlide() {
    // Intersection Observer for animations
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
      entries.forEach(function(entry) {
        if (entry.isIntersecting) {
          entry.target.style.opacity = '1';
          entry.target.style.transform = 'translateY(0)';
        }
      });
    }, observerOptions);
    
    // Observe all animated elements
    const animatedElements = document.querySelectorAll('.animate-fade-in-up, .animate-slide-up, .animate-slide-up-delay');
    animatedElements.forEach(function(element) {
      observer.observe(element);
    });
  }

  // Initialize when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initializeWhyNowSlide);
  } else {
    initializeWhyNowSlide();
  }
</script>
