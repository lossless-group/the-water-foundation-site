---
// src/components/ui/SiteBrandMarkModeWrapper.astro
// Specialized component for The Water Foundation's brand mark with theme support

interface Props {
  className?: string;
  width?: number | string;
  height?: number | string;
}

const { 
  className = '',
  width = 180,
  height = 40
} = Astro.props;

// Define the logo paths for light and dark modes
const lightLogo = '/trademark__The-Water-Foundation--Darker.svg';
const darkLogo = '/trademark__The-Water-Foundation--Lighter.svg';
---

<div class:list={[
  'brand-mark-wrapper relative w-full h-full',
  className
]}>
  <!-- Light mode logo -->
  <img
    src={lightLogo}
    alt="The Water Foundation"
    width={width}
    height={height}
    loading="eager"
    decoding="async"
    fetchpriority="high"
    class="light-logo w-full h-full object-contain"
  />
  
  <!-- Dark mode logo -->
  <img
    src={darkLogo}
    alt="The Water Foundation"
    width={width}
    height={height}
    loading="eager"
    decoding="async"
    fetchpriority="high"
    class="dark-logo w-full h-full object-contain"
  />
</div>

<style is:global>
  /* Default: show light logo, hide dark logo */
  .brand-mark-wrapper .light-logo { display: block !important; }
  .brand-mark-wrapper .dark-logo { display: none !important; }

  /* Dark mode: hide light logo, show dark logo */
  html[data-mode="dark"] .brand-mark-wrapper .light-logo { display: none !important; }
  html[data-mode="dark"] .brand-mark-wrapper .dark-logo { display: block !important; }

  /* Also support Tailwind's .dark class on html */
  html.dark .brand-mark-wrapper .light-logo { display: none !important; }
  html.dark .brand-mark-wrapper .dark-logo { display: block !important; }

  /* No system preference fallback: authoritative source is data-mode/.dark on html */
</style>